version: '2'

volumes:
    sync.e_osvc_api_root:
        external: true

services:
    web:
        build: docker
        links:
            - db
            - mail
        ports:
            - 80:80
        volumes:
            - sync.e_osvc_api_root:/www

    db:
        image: postgres:11
        environment:
            POSTGRES_USER: postgres
            POSTGRES_PASSWORD: pass

    adminer:
        image: clue/adminer
        links:
            - db
        ports:
            - 81:80

    mail:
        image: mailhog/mailhog
        ports:
            - 82:8025
